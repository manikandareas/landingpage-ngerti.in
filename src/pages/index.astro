---
import "@/styles/global.css";
import { Header } from "@/components/Header";
import { Hero } from "@/components/Hero";
import { LiveMonitoringPreview } from "@/components/LiveMonitoringPreview";
import { Testimonials } from "@/components/Testimonials";
import { HowItWorks } from "@/components/HowItWorks";
import { WhatIsLab } from "@/components/WhatIsLab";
import { Features } from "@/components/Features";
import { FounderStory } from "@/components/FounderStory";
import { Changelog } from "@/components/Changelog";
import { Pricing } from "@/components/Pricing";
import { FAQ } from "@/components/FAQ";
import { CTA } from "@/components/CTA";
import { Footer } from "@/components/Footer";
---

<script is:inline>
  const getThemePreference = () => {
    if (typeof localStorage !== 'undefined' && localStorage.getItem('theme')) {
      return localStorage.getItem('theme');
    }
    return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
  };
  const isDark = getThemePreference() === 'dark';
  document.documentElement.classList[isDark ? 'add' : 'remove']('dark');

  if (typeof localStorage !== 'undefined') {
    const observer = new MutationObserver(() => {
      const isDark = document.documentElement.classList.contains('dark');
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
    });
    observer.observe(document.documentElement, { attributes: true, attributeFilter: ['class'] });
  }
</script>

<!doctype html>
<html lang="id">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap" rel="stylesheet" />
		<title>Ngerti.in - Platform Assessment Berbasis AI</title>
	</head>
	<body>
		<Header client:load />
		<Hero client:load />
		<LiveMonitoringPreview client:visible />
		<Testimonials client:visible />
		<HowItWorks />
		<WhatIsLab />
		<Features />
		<FounderStory />
		<Changelog />
		<Pricing />
		<FAQ client:visible />
		<CTA client:load />
		<Footer />
	</body>
</html>
